<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover"
    />
    <title>BMW Driving Center</title>
    <link
      href="../../../../../static/assets/v1/css/ui.min.css"
      rel="stylesheet"
    />
    <script
      type="text/javascript"
      src="../../../../../static/assets/v1/js/common.js"
    ></script>
    <script
      type="text/javascript"
      src="../../../../../static/assets/v1/js/ui.js"
    ></script>
  </head>
  <body>
    <!-- 헤더영역 -->
    <!-- 예약 프로세스일때만 type2 클래스 적용 -->
    <header
      id="headerWrap"
      class="type2"
      data-include="../../../layout/header.html"
      data-location="2"
    ></header>
    <!-- //헤더영역 -->

    <!-- 컨텐츠 영역 -->
    <section id="container" data-title="차량 별 예약">
      <div class="section type2">
        <div class="reserveBox">
          <!-- 체험 차량 -->
          <div class="box" data-reserve-motion data-animation="fadeInLeft">
            <div class="lineBox"></div>
            <div class="contBox">
              <h2>체험 차량</h2>

              <!-- 데이터 오류 -->
              <div class="dataInfoBox">
                <i class="icoDataNone"></i>
                <p class="tit">체험 차량 정보가 존재하지 않습니다.</p>
              </div>
              <!-- //데이터 오류 -->
            </div>
          </div>
          <!-- //체험 차량 -->

          <!-- 체험 프로그램 -->
          <div class="box" data-animation="fadeInLeft,2000">
            <div class="contBox">
              <h2>체험 프로그램</h2>

              <!-- 데이터 오류 -->
              <div class="dataInfoBox">
                <i class="icoDataNone"></i>
                <p class="tit">체험 프로그램 정보가 존재하지 않습니다.</p>
              </div>
              <!-- //데이터 오류 -->

              <h2 class="mt50">체험코스</h2>

              <!-- 데이터 오류 -->
              <div class="dataInfoBox">
                <i class="icoDataNone"></i>
                <p class="tit">체험 코스 정보가 존재하지 않습니다.</p>
              </div>
              <!-- //데이터 오류 -->
            </div>
          </div>
          <!-- //체험 프로그램 -->

          <!-- 체험 일정 -->
          <div class="box" data-animation="fadeInLeft,2200">
            <div class="contBox">
              <h2>체험 일정</h2>

              <!-- 데이터 오류 -->
              <div class="dataInfoBox">
                <i class="icoDataNone"></i>
                <p class="tit">체험 일정 정보가 존재하지 않습니다.</p>
              </div>
              <!-- //데이터 오류 -->
            </div>
          </div>
          <!-- //체험 일정 -->
        </div>
      </div>

      <!-- 하단 영역 -->
      <div class="scrollFixed reserveFixed">
        <div class="reserveFixedBox">
          <div class="infoDetailBox">
            <div class="left">
              <dl>
                <dt>체험 프로그램</dt>
                <dd>Test Drive</dd>
              </dl>
              <dl class="mt12">
                <dt>체험 일자</dt>
                <dd>2023년 1월 27일(일)</dd>
              </dl>
            </div>
            <div class="right">
              <dl>
                <dt>체험 차량</dt>
                <dd>BMW 32Oi M Sport Package | 80,000원</dd>
              </dl>
              <div class="flex mt12">
                <dl>
                  <dt>체험 시간</dt>
                  <dd>오전 09:40</dd>
                </dl>
                <dl class="ml50">
                  <dt>체험 인원</dt>
                  <dd>1명</dd>
                </dl>
              </div>
            </div>
          </div>
          <div class="totalBox">
            <div class="count">
              <span>예상 결제 금액</span>
              <p class="cash">80,000원</p>
            </div>
            <button class="button btnSubmit">예약하기</button>
          </div>
        </div>
      </div>
      <!-- //하단 영역 -->
    </section>
    <!-- //컨텐츠 영역 -->

    <!-- 하단 영역 -->
    <!-- 예약 프로세스일때만 type2 클래스 적용 -->
    <footer
      id="footerWrap"
      class="type2"
      data-include="../../../layout/footer.html"
    ></footer>
    <!-- //하단 영역 -->

    <script>
      // swipe tab 재호출
      // tabWrap.swiper();

      $(function () {
        carSwipe();
        programImgBox();

        /* 테스트용 */
        calendarTest.typeButton();
        calendarTest.calendar();
        calendarTest.count();
      });

      const calendarTest = {
        typeButton: function () {
          $(".typeButton a").click(function () {
            $(this).addClass("on").siblings().removeClass("on");
            return false;
          });
        },
        calendar: function () {
          const target = ".calendarWrap";
          const time = ".reserveTimeBox";
          const person = ".personCountWrap";

          $(target)
            .find("td button")
            .click(function () {
              $(target).find("td button").removeClass("on");
              $(this).addClass("on");

              $(time).fadeIn();
              $(person).fadeIn();
              return false;
            });
        },
        count: function () {
          const person = ".personCountWrap";
          const count = person + " .count";
          const btnPlus = person + " .btnPlus";
          const btnMinus = person + " .btnMinus";
          let number = 0;

          $(document).on("click", btnPlus, function () {
            number == 2 ? number : number++;
            $(count).text(number);
            return false;
          });

          $(document).on("click", btnMinus, function () {
            number == 0 ? number : number--;
            $(count).text(number);
            return false;
          });
        },
      };

      const carSwipe = function () {
        const swiper = new Swiper(".carSwipe", {
          slidesPerView: "auto",
          on: {
            init: function (e) {
              $(e.$el[0]).addClass("next");
              imgHeight();
            },
          },
          navigation: {
            nextEl: ".carSwipe .swiper-button-next",
            prevEl: ".carSwipe .swiper-button-prev",
          },
          pagination: {
            el: ".carSwipe .swiper-pagination",
            clickable: true,
            renderBullet: function (index, className) {
              return '<a href="#" class="' + className + '">' + index + "</a>";
            },
          },
        });
        swiper
          .on("slideChange", function (e) {
            $(swiper.$el[0]).removeClass("next prev");
            if (e.previousIndex < e.activeIndex) {
              $(swiper.$el[0]).addClass("next");
            } else {
              $(swiper.$el[0]).addClass("prev");
            }
          })
          .on("resize", function (e) {
            imgHeight();
          });

        function imgHeight() {
          const height = $(".carSwipe .carImg").outerHeight();
          $(".carSwipe").css("--img-height", height + "px");
        }
      };
      const programImgBox = function () {
        const swiper = new Swiper(".programImgBox", {
          slidesPerView: "auto",
          parallax: true,
          autoHeight: true,
          navigation: {
            nextEl: ".programImgBox .swiper-button-next",
            prevEl: ".programImgBox .swiper-button-prev",
          },
          pagination: {
            el: ".programImgBox .swiper-pagination",
            clickable: true,
            renderBullet: function (index, className) {
              return '<a href="#" class="' + className + '">' + index + "</a>";
            },
          },
          on: {
            init: function () {
              imgHeight();
            },
          },
        });
        swiper.on("resize", function (e) {
          imgHeight();
        });

        function imgHeight() {
          const height = $(".programImgBox .imgBox").outerHeight();
          $(".programImgBox").css("--img-height", height + "px");
        }
      };
    </script>
  </body>
</html>
